(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[398],{631:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create-account",function(){return t(7004)}])},9520:function(e,n,t){"use strict";var a=t(5893);t(7294),n.Z=e=>{let{title:n,backBtn:t=!1}=e;return(0,a.jsxs)("nav",{className:"relative px-6 py-2",children:[t&&(0,a.jsx)("button",{type:"button",className:"absolute left-0 top-2",onClick:()=>{window.history.back()},children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",children:[(0,a.jsx)("path",{d:"M12.7574 7.90662L4.66406 16L12.7574 24.0933",stroke:"#191D31",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M27.3306 16H4.89062",stroke:"#191D31",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,a.jsx)("h1",{className:"text-center",children:n})]})}},6897:function(e,n,t){"use strict";var a=t(5893);t(7294);var o=t(512);n.Z=e=>{let{title:n,type:t="button",onClick:s,disabled:l=!1,classes:i=""}=e;return(0,a.jsx)("button",{onClick:e=>{null==s||s(e)},type:t,disabled:l,className:(0,o.Z)("rounded-[24px] px-6 py-3 text-[16px] font-semibold text-center leading-[1.3]",l?"text-gray-400 border border-gray-600":"text-gray-100 bg-green-800 hover:bg-green-900 border-none cursor-pointer",i),children:n})}},5145:function(e,n,t){"use strict";var a=t(5893);t(7294),n.Z=e=>{let{label:n,type:t="input",name:o,required:s=!1,value:l,onChange:i,placeholder:u=l}=e;return(0,a.jsxs)("div",{className:"flex flex-col mb-6",children:[(0,a.jsx)("label",{htmlFor:o,className:"text-md font-bold mb-2",children:n}),(0,a.jsx)("input",{type:t,name:o,value:l,onChange:i,placeholder:u,required:s,className:"border text-black bg-white border-black rounded-lg p-3 focus:outline-none focus:border-green-800"})]})}},7004:function(e,n,t){"use strict";t.r(n);var a=t(5893),o=t(7294),s=t(1163),l=t(9520),i=t(6897),u=t(5145),c=t(4053);n.default=()=>{let e=(0,s.useRouter)(),[n,t]=(0,o.useState)(""),d=o.useRef(null),[h,m]=(0,o.useState)({email:"",confirmEmail:"",password:"",confirmPassword:"",phone:"",confirmPhone:""}),p=(0,c.useSupabaseClient)(),handleInputChange=e=>{let{name:n,value:t}=e.target;m(e=>({...e,[n]:t}))},{session:f,isLoading:b}=(0,c.useSessionContext)();(0,o.useEffect)(()=>{!b&&(null==f?void 0:f.user)&&e.push("/home")},[f,b]);let handleSubmit=async n=>{n.preventDefault();let{email:a,confirmEmail:o,password:s,confirmPassword:l,phone:i,confirmPhone:u}=h;if(a!==o||s!==l||i!==u){t("Please make sure all fields match.");return}try{let{data:n,error:o}=await p.auth.signUp({email:a,password:s,options:{data:{phone:i}}});if(o){t(o.message);return}let l=n.user;if(l){let{error:e}=await p.from("users").insert([{id:l.id,email:a,phone:i}]);if(e){t("Account created, but failed to save profile info.");return}}e.push("/onboarding/start")}catch(e){console.error("Supabase registration error:",e),t("Registration failed. Please try again.")}};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{children:[(0,a.jsx)(l.Z,{title:"Create an account",backBtn:!0}),(0,a.jsxs)("form",{ref:d,onSubmit:handleSubmit,className:"pt-4",children:[(0,a.jsx)(u.Z,{type:"email",name:"email",value:h.email,onChange:handleInputChange,placeholder:"Enter Your Email",label:"Your Email",required:!0}),(0,a.jsx)(u.Z,{type:"email",name:"confirmEmail",value:h.confirmEmail,onChange:handleInputChange,placeholder:"Confirm Your Email",label:"Confirm Your Email",required:!0}),(0,a.jsx)(u.Z,{type:"password",name:"password",value:h.password,onChange:handleInputChange,placeholder:"Enter Your Password",label:"Password",required:!0}),(0,a.jsx)(u.Z,{type:"password",name:"confirmPassword",value:h.confirmPassword,onChange:handleInputChange,placeholder:"Confirm Your Password",label:"Re-Entry Password",required:!0}),(0,a.jsx)(u.Z,{type:"tel",name:"phone",value:h.phone,onChange:handleInputChange,placeholder:"Enter Your Number",label:"Your Phone number",required:!0}),(0,a.jsx)(u.Z,{type:"tel",name:"confirmPhone",value:h.confirmPhone,onChange:handleInputChange,placeholder:"Confirm Your Number",label:"Re-Entry Phone Number",required:!0}),(0,a.jsx)(i.Z,{type:"submit",title:"Continue",classes:"w-full block mb-4 mt-9"}),(0,a.jsxs)("div",{className:"text-green-800 text-center mt-4",children:["Already have an account?"," ",(0,a.jsx)("button",{type:"button",className:"text-green-800 border-0 p-o bg-transparent underline focus:outline-none focus:ring-0",onClick:()=>{e.push("/login")},children:"Login"})]}),n&&(0,a.jsx)("div",{style:{color:"red",textAlign:"center",margin:"10px 0"},children:n})]})]})})}},1163:function(e,n,t){e.exports=t(9974)},512:function(e,n,t){"use strict";n.Z=function(){for(var e,n,t=0,a="",o=arguments.length;t<o;t++)(e=arguments[t])&&(n=function r(e){var n,t,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e){if(Array.isArray(e)){var o=e.length;for(n=0;n<o;n++)e[n]&&(t=r(e[n]))&&(a&&(a+=" "),a+=t)}else for(t in e)e[t]&&(a&&(a+=" "),a+=t)}return a}(e))&&(a&&(a+=" "),a+=n);return a}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=631)}),_N_E=e.O()}]);