(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[192],{8235:function(e,l,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile/[id]",function(){return i(9017)}])},9017:function(e,l,i){"use strict";i.r(l);var n=i(5893),s=i(7294),t=i(9520),d=i(6441),u=i(9233),c=i(9958),r=i(4657),o=i(8202),a=i(5092),f=i(2027),v=i(6897),_=i(5841),w=i(4053),j=i(8533),p=i(5542),x=i(1163);l.default=()=>{let[e,l]=(0,s.useState)(null),{user:i,setUser:y}=(0,j.Z)(),m=(0,w.useSupabaseClient)(),{profiles:Z}=(0,p.Z)(),h=(0,x.useRouter)(),{id:k}=h.query;(0,s.useEffect)(()=>{Z&&l(Z.find(e=>e.id===k))},[Z]);let updateRecentlyViewed=async()=>{let{data:e,error:l}=await m.from("users").update({recently_viewed:(null==i?void 0:i.recently_viewed)?[...null==i?void 0:i.recently_viewed,k]:[k]}).eq("id",null==i?void 0:i.id);l||(console.log("User recently viewed updated",e),y(e=>({...e,recently_viewed:(null==e?void 0:e.recently_viewed)?[...null==e?void 0:e.recently_viewed,k]:[k]})))};return((0,s.useEffect)(()=>{var e;null==i||!i.id||(null==i?void 0:i.id)===k||(null==i?void 0:null===(e=i.recently_viewed)||void 0===e?void 0:e.includes(k))||updateRecentlyViewed()},[null==i?void 0:i.id,e]),e)?(0,n.jsxs)("div",{children:[(0,n.jsx)(t.Z,{title:"Profile"}),(0,n.jsxs)("div",{className:"pt-4 pb-8",children:[(0,n.jsx)(d.Z,{name:e.name||e.official_name||e.agency_name,imgUrl:e.img_url,id:k}),(0,n.jsx)(c.Z,{links:e.social_networks,id:k}),(0,n.jsx)(v.Z,{title:"Start A Project",classes:"w-full block mb-12",onClick:()=>{h.push("/projects/new")}}),(0,n.jsx)(u.Z,{profile:e,id:k}),(0,n.jsx)(_.Z,{}),(0,n.jsx)(r.Z,{}),(0,n.jsx)(o.Z,{}),(0,n.jsx)(a.Z,{}),(0,n.jsx)(f.Z,{})]})]}):(0,n.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,n.jsx)("p",{className:"text-lg",children:"Profile is loading..."})})}}},function(e){e.O(0,[998,264,309,816,293,421,774,888,179],function(){return e(e.s=8235)}),_N_E=e.O()}]);