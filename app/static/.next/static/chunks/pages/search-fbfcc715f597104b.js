(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{1373:function(e,a,t){"use strict";t.d(a,{Z:function(){return createLucideIcon}});var i=t(7294);/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,t)=>t?t.toUpperCase():a.toLowerCase()),toPascalCase=e=>{let a=toCamelCase(e);return a.charAt(0).toUpperCase()+a.slice(1)},mergeClasses=(...e)=>e.filter((e,a,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===a).join(" ").trim(),hasA11yProp=e=>{for(let a in e)if(a.startsWith("aria-")||"role"===a||"title"===a)return!0};/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.501.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,i.forwardRef)(({color:e="currentColor",size:a=24,strokeWidth:t=2,absoluteStrokeWidth:l,className:r="",children:n,iconNode:c,...o},d)=>(0,i.createElement)("svg",{ref:d,...s,width:a,height:a,stroke:e,strokeWidth:l?24*Number(t)/Number(a):t,className:mergeClasses("lucide",r),...!n&&!hasA11yProp(o)&&{"aria-hidden":"true"},...o},[...c.map(([e,a])=>(0,i.createElement)(e,a)),...Array.isArray(n)?n:[n]])),createLucideIcon=(e,a)=>{let t=(0,i.forwardRef)(({className:t,...s},r)=>(0,i.createElement)(l,{ref:r,iconNode:a,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(e))}`,`lucide-${e}`,t),...s}));return t.displayName=toPascalCase(e),t}},3417:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search",function(){return t(2363)}])},9520:function(e,a,t){"use strict";var i=t(5893);t(7294),a.Z=e=>{let{title:a,backBtn:t=!1}=e;return(0,i.jsxs)("nav",{className:"relative px-6 py-2",children:[t&&(0,i.jsx)("button",{type:"button",className:"absolute left-0 top-2",onClick:()=>{window.history.back()},children:(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",children:[(0,i.jsx)("path",{d:"M12.7574 7.90662L4.66406 16L12.7574 24.0933",stroke:"#191D31",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),(0,i.jsx)("path",{d:"M27.3306 16H4.89062",stroke:"#191D31",strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"})]})}),(0,i.jsx)("h1",{className:"text-center",children:a})]})}},2363:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return Search}});var i=t(5893),s=t(7294),l=t(1163),r=t(9520),n=t(4053),c=t(1373);let o=(0,c.Z)("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]),d=[{title:"Ad Agencies",table:"ad_agencies_data",column:"agency_name",displayField:"agency_name"},{title:"Business Figures",table:"business_figures_data",column:"name",displayField:"name"},{title:"Entertainment Figures",table:"entertainment_figures_data",column:"name",displayField:"name"},{title:"Fashion Figures",table:"fashion_figures_data",column:"name",displayField:"name"},{title:"Literature Journalism Figures",table:"literature_journalism_figures_data",column:"name",displayField:"name"},{title:"Music Figures",table:"music_figures_data",column:"name",displayField:"name"},{title:"Partial Ad Agencies",table:"partial_ad_agencies_data",column:"agency_name",displayField:"agency_name"},{title:"Education",table:"partial_education_data",column:"official_name",displayField:"official_name"},{title:"Fashion Image Agencies",table:"partial_fashion_image_agencies_data",column:"agency_name",displayField:"agency_name"},{title:"Political Figures",table:"political_figures_data",column:"name",displayField:"name"},{title:"Social Media Figures",table:"social_media_figures_data",column:"name",displayField:"name"},{title:"Sports Figures",table:"sports_figures_data",column:"name",displayField:"name"},{title:"Technology Figures",table:"technology_figures_data",column:"name",displayField:"name"},{title:"Visual Arts Figures",table:"visual_arts_figures_data",column:"name",displayField:"name"}],u=["description","service_types","locations","companies","occupation","major_productions","agency","publishers","syndicates","genre","record_label","chart_data","headquarters","party","position","platform_specialty_fields","sport_type","teams","companies_built","styles","galleries_exhibits"],m=[{key:"website",label:"Website"},{key:"imdb_link",label:"IMDB Link"}];function Search(){let e=(0,l.useRouter)(),{searchQuery:a}=e.query,[t,c]=(0,s.useState)([]),[h,p]=(0,s.useState)(!1),[_,f]=(0,s.useState)(null),g=(0,n.useSupabaseClient)();return(0,s.useEffect)(()=>{async function fetchAllData(){p(!0),c([]),f(null);try{let e=[];for(let t of d){let{data:i,error:s}=await g.from(t.table).select("*").ilike(t.column,"%".concat(a,"%"));if(s){console.error("Error fetching from ".concat(t.title,":"),s.message);continue}i&&i.length>0&&e.push({title:t.title,displayField:t.displayField,data:i})}c(e)}catch(e){f("An unexpected error occurred while fetching data.")}finally{p(!1)}}a&&fetchAllData()},[a,g]),(0,i.jsxs)("div",{children:[(0,i.jsx)(r.Z,{title:"Search Results",backBtn:!0}),(0,i.jsx)("div",{className:"pt-12",children:(0,i.jsxs)("div",{className:"mb-4",children:[h&&(0,i.jsxs)("div",{className:"flex justify-center items-center h-[75vh]",children:[(0,i.jsx)(o,{className:"animate-spin text-green-800"}),(0,i.jsx)("p",{className:"ml-2",children:"Loading..."})]}),_&&(0,i.jsx)("p",{className:"text-red-500",children:_}),!h&&a&&t.length>0?(0,i.jsx)("div",{className:"",children:t.map((e,a)=>(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold mb-2",children:e.title}),(0,i.jsx)("ul",{children:e.data.map((a,t)=>(0,i.jsxs)("li",{className:"mb-4 pb-4 border-b border-gray-200",children:[(0,i.jsx)("a",{href:"/details/".concat(a.id),className:"text-blue-500 hover:underline font-medium",children:a[e.displayField]}),u.map(e=>a[e]?(0,i.jsxs)("p",{className:"text-gray-600",children:[(0,i.jsxs)("b",{children:[e.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),":"]})," ",a[e]]},e):null),m.map(e=>{let{key:t,label:s}=e;return a[t]&&(0,i.jsx)("a",{href:a[t],target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline block",children:s},t)})]},t))})]},a))}):!h&&(0,i.jsx)("h1",{className:"text-2xl font-bold",children:"No results found"})]})})]})}},1163:function(e,a,t){e.exports=t(9974)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=3417)}),_N_E=e.O()}]);